# 博客使用指南

## 🚀 快速开始

### 1. 运行一键部署脚本

```bash
# 给脚本执行权限
chmod +x setup-blog-cli.sh

# 运行一键部署脚本
./setup-blog-cli.sh
```

脚本会自动完成：
- Fork原始仓库到你的GitHub账户
- 克隆到本地
- 运行初始化脚本清空所有示例内容
- 安装必要的依赖
- 配置GitHub Pages部署

### 2. 配置个人信息

部署完成后，你需要修改以下配置文件：

#### 修改 `config.toml`

```toml
# 基本信息
base_url = "https://yourusername.github.io/blog"  # 改为你的GitHub Pages地址
title = "你的博客标题"
description = "你的博客描述"

[extra]
author = "你的姓名"
email = "your.email@example.com"
bio = "你的个人简介"

# 社交媒体链接（可选）
[extra.social]
github = "yourusername"
twitter = "yourusername"
mastodon = "https://mastodon.social/@yourusername"
```

#### 修改域名配置（如果使用自定义域名）

```bash
# 修改 static/CNAME 文件
echo "yourdomain.com" > static/CNAME

# 同时更新 config.toml 中的 base_url
base_url = "https://yourdomain.com"
```

## 📝 内容创建

### 使用一键指令创建内容

博客提供了便捷的脚本来创建各种类型的内容：

```bash
# 添加短想法
./scripts/blog-helper.sh thought "今天的想法内容"

# 创建博客文章
./scripts/blog-helper.sh create "blog" "文章标题"

# 创建诗歌
./scripts/blog-helper.sh create "poem" "诗歌标题"

# 创建故事
./scripts/blog-helper.sh create "story" "故事标题"

# 创建翻译作品
./scripts/blog-helper.sh create "translations" "翻译标题"
```

### 手动创建内容

你也可以直接在 `content/` 目录下创建Markdown文件：

```markdown
+++
title = "文章标题"
date = 2024-01-01
description = "文章描述"
[taxonomies]
tags = ["标签1", "标签2"]
categories = ["分类"]
+++

# 文章标题

文章内容...
```

## 💾 保存和发布

### 使用一键提交指令

```bash
# 自动提交所有更改（推荐）
./scripts/blog-helper.sh commit

# 使用自定义提交信息
./scripts/blog-helper.sh commit "添加新文章"

# 选择性提交（会显示文件列表让你选择）
./scripts/blog-helper.sh commit "更新内容" --selective
```

### 手动Git操作

```bash
# 查看更改
git status

# 添加所有更改
git add .

# 提交更改
git commit -m "你的提交信息"

# 推送到GitHub（会自动触发部署）
git push origin main
```

## 🔄 自动同步功能（macOS用户）

如果你使用macOS，可以设置从Apple备忘录自动同步内容：

### 1. 安装依赖

```bash
./scripts/setup-dependencies.sh
```

### 2. 设置自动同步

```bash
# 安装每天自动同步任务
./scripts/blog-helper.sh auto-sync install

# 查看自动同步状态
./scripts/blog-helper.sh auto-sync status

# 手动运行一次同步
./scripts/blog-helper.sh sync-notes
```

### 3. 在备忘录中使用标签

在Apple备忘录中，为你的笔记添加以下标签：

- `#thought` - 短想法
- `#日记` - 日记
- `#读书` - 读书笔记
- `#诗歌` - 诗歌
- `#故事` - 故事
- `#技术` - 技术文章

系统会自动将带有这些标签的备忘录同步到对应的博客分类中。

## 🛠️ 本地开发

### 本地预览

```bash
# 启动本地服务器
make serve

# 或者直接使用zola
zola serve
```

访问 http://localhost:1111 查看你的博客。

### 构建静态文件

```bash
# 构建生产版本
make build

# 或者直接使用zola
zola build
```

## 🚀 部署

### GitHub Pages自动部署

推送代码到main分支后，GitHub Actions会自动：
1. 构建静态网站
2. 部署到GitHub Pages
3. 你的网站将在几分钟内更新

### 检查部署状态

1. 访问你的GitHub仓库
2. 点击"Actions"标签
3. 查看最新的工作流运行状态

## 🔧 高级功能

### 搜索功能

如需启用搜索功能，需要配置Meilisearch服务。

### Mastodon集成

可以配置自动发布到Mastodon社交网络。

## ❓ 常见问题

### Q: 如何更改博客主题？
A: 修改 `config.toml` 中的 `[extra.style]` 部分。

### Q: 如何添加自定义CSS？
A: 在 `static/` 目录下添加CSS文件，然后在模板中引用。

### Q: 部署失败怎么办？
A: 检查GitHub Actions的错误日志，通常是配置文件格式问题。

## 📞 获取帮助

如果遇到问题：
1. 查看项目的README.md文件
2. 检查GitHub Issues
3. 查看Zola官方文档：https://www.getzola.org/

---

**记住**：每次修改内容后，使用 `./scripts/blog-helper.sh commit` 一键保存并发布！
