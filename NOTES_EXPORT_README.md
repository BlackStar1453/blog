# macOS å¤‡å¿˜å½•å¯¼å‡ºå·¥å…·

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Python è„šæœ¬ï¼Œç”¨äºŽå°† macOS å¤‡å¿˜å½•å¯¼å‡ºä¸º Markdown æ–‡ä»¶ï¼Œæ”¯æŒç­›é€‰ã€åˆ†ç±»å’Œæ‰¹é‡å¤„ç†ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ðŸ” **æ™ºèƒ½ç­›é€‰**: æŒ‰æ—¥æœŸã€å…³é”®è¯ã€è´¦æˆ·ã€æ–‡ä»¶å¤¹ã€é•¿åº¦ç­‰æ¡ä»¶ç­›é€‰å¤‡å¿˜å½•
- ðŸ“ **è‡ªåŠ¨åˆ†ç±»**: æ”¯æŒæŒ‰æ—¥æœŸã€è´¦æˆ·ã€æ–‡ä»¶å¤¹ã€é•¿åº¦ç­‰æ–¹å¼è‡ªåŠ¨ç»„ç»‡æ–‡ä»¶
- ðŸ“ **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨å°† HTML æ ¼å¼çš„å¤‡å¿˜å½•å†…å®¹è½¬æ¢ä¸º Markdown
- ðŸ“Š **ç»Ÿè®¡ä¿¡æ¯**: æ˜¾ç¤ºè¯¦ç»†çš„å¯¼å‡ºç»Ÿè®¡å’Œå¤‡å¿˜å½•åˆ†æž
- ðŸ“‘ **ç´¢å¼•ç”Ÿæˆ**: è‡ªåŠ¨ç”ŸæˆåŒ…å«é“¾æŽ¥çš„ç´¢å¼•æ–‡ä»¶
- ðŸ’¾ **å…ƒæ•°æ®ä¿å­˜**: ä¿å­˜å¤‡å¿˜å½•çš„å®Œæ•´å…ƒæ•°æ®ä¿¡æ¯
- ðŸŽ¯ **é¢„è®¾æ¨¡å¼**: æä¾›å¸¸ç”¨çš„å¯¼å‡ºé¢„è®¾ï¼Œç®€åŒ–ä½¿ç”¨

## ðŸ› ï¸ å®‰è£…ä¾èµ–

```bash
# å®‰è£…å¿…è¦çš„ Python åº“
python3 -m pip install macnotesapp markdownify rich
```

## ðŸ“‹ ç³»ç»Ÿè¦æ±‚

- macOS ç³»ç»Ÿ
- Python 3.7+
- å¤‡å¿˜å½•åº”ç”¨çš„è®¿é—®æƒé™

## ðŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```bash
# å¯¼å‡ºæ‰€æœ‰å¤‡å¿˜å½•
python3 notes_to_markdown.py

# å¯¼å‡ºæœ€è¿‘30å¤©çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --days 30

# æŒ‰å…³é”®è¯æœç´¢å¹¶å¯¼å‡º
python3 notes_to_markdown.py --keywords "å·¥ä½œ" "é¡¹ç›®"

# ä»…åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„å¤‡å¿˜å½•ï¼Œä¸å¯¼å‡º
python3 notes_to_markdown.py --list-only --days 7
```

### ä½¿ç”¨ä¾¿æ·è„šæœ¬

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x export_notes.sh

# ä½¿ç”¨é¢„è®¾å¯¼å‡º
./export_notes.sh recent          # æœ€è¿‘30å¤©
./export_notes.sh work            # å·¥ä½œç›¸å…³
./export_notes.sh personal        # ä¸ªäººå¤‡å¿˜å½•
./export_notes.sh long            # é•¿å¤‡å¿˜å½•(>1000å­—)
./export_notes.sh short           # çŸ­å¤‡å¿˜å½•(<100å­—)

# è‡ªå®šä¹‰å¯¼å‡º
./export_notes.sh -d 7            # æœ€è¿‘7å¤©
./export_notes.sh -k "å­¦ä¹ " "ç¬”è®°" # æŒ‰å…³é”®è¯
./export_notes.sh -l -d 30        # ä»…åˆ—å‡ºæœ€è¿‘30å¤©
```

## ðŸ“– è¯¦ç»†ç”¨æ³•

### å‘½ä»¤è¡Œå‚æ•°

#### åŸºæœ¬é€‰é¡¹
- `--output, -o`: è¾“å‡ºç›®å½• (é»˜è®¤: exported_notes)
- `--organize`: ç»„ç»‡æ–¹å¼ (flat/date/account/folder/length)
- `--list-only`: ä»…åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„å¤‡å¿˜å½•ï¼Œä¸å¯¼å‡º
- `--verbose, -v`: è¯¦ç»†è¾“å‡º

#### ç­›é€‰é€‰é¡¹
- `--keywords, -k`: æŒ‰å…³é”®è¯ç­›é€‰ (æœç´¢æ ‡é¢˜å’Œå†…å®¹)
- `--accounts, -a`: æŒ‰è´¦æˆ·ç­›é€‰
- `--folders, -f`: æŒ‰æ–‡ä»¶å¤¹ç­›é€‰
- `--days, -d`: å¯¼å‡ºæœ€è¿‘Nå¤©çš„å¤‡å¿˜å½•
- `--start-date`: å¼€å§‹æ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)
- `--end-date`: ç»“æŸæ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)
- `--min-length`: æœ€å°å­—ç¬¦æ•°
- `--max-length`: æœ€å¤§å­—ç¬¦æ•°

#### è¾“å‡ºé€‰é¡¹
- `--no-index`: ä¸ç”Ÿæˆç´¢å¼•æ–‡ä»¶
- `--no-metadata`: ä¸ä¿å­˜å…ƒæ•°æ®JSONæ–‡ä»¶
- `--include-protected`: åŒ…å«å¯†ç ä¿æŠ¤çš„å¤‡å¿˜å½•

### ä½¿ç”¨ç¤ºä¾‹

#### 1. æŒ‰æ—¥æœŸç­›é€‰
```bash
# å¯¼å‡º2024å¹´çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --start-date 2024-01-01 --end-date 2024-12-31

# å¯¼å‡ºæœ€è¿‘ä¸€å‘¨çš„å¤‡å¿˜å½•ï¼ŒæŒ‰æ—¥æœŸåˆ†ç±»
python3 notes_to_markdown.py --days 7 --organize date
```

#### 2. æŒ‰å†…å®¹ç­›é€‰
```bash
# æœç´¢åŒ…å«"å·¥ä½œ"æˆ–"é¡¹ç›®"çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --keywords "å·¥ä½œ" "é¡¹ç›®"

# å¯¼å‡ºé•¿å¤‡å¿˜å½•ï¼ˆè¶…è¿‡1000å­—ï¼‰
python3 notes_to_markdown.py --min-length 1000 --organize length
```

#### 3. æŒ‰è´¦æˆ·å’Œæ–‡ä»¶å¤¹ç­›é€‰
```bash
# åªå¯¼å‡ºiCloudè´¦æˆ·çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --accounts "iCloud"

# å¯¼å‡ºç‰¹å®šæ–‡ä»¶å¤¹çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --folders "å·¥ä½œ" "å­¦ä¹ "
```

#### 4. è‡ªå®šä¹‰è¾“å‡º
```bash
# å¯¼å‡ºåˆ°æŒ‡å®šç›®å½•ï¼Œä¸ç”Ÿæˆç´¢å¼•
python3 notes_to_markdown.py --output ~/Documents/notes --no-index

# æŒ‰è´¦æˆ·åˆ†ç±»ç»„ç»‡ï¼ŒåŒ…å«å¯†ç ä¿æŠ¤çš„å¤‡å¿˜å½•
python3 notes_to_markdown.py --organize account --include-protected
```

## ðŸ“ è¾“å‡ºç»“æž„

### å¹³é“ºç»“æž„ (--organize flat)
```
exported_notes/
â”œâ”€â”€ README.md           # ç´¢å¼•æ–‡ä»¶
â”œâ”€â”€ metadata.json       # å…ƒæ•°æ®æ–‡ä»¶
â”œâ”€â”€ å¤‡å¿˜å½•1.md
â”œâ”€â”€ å¤‡å¿˜å½•2.md
â””â”€â”€ ...
```

### æŒ‰æ—¥æœŸåˆ†ç±» (--organize date)
```
exported_notes/
â”œâ”€â”€ README.md
â”œâ”€â”€ metadata.json
â”œâ”€â”€ 2024-01/
â”‚   â”œâ”€â”€ å¤‡å¿˜å½•1.md
â”‚   â””â”€â”€ å¤‡å¿˜å½•2.md
â”œâ”€â”€ 2024-02/
â”‚   â””â”€â”€ å¤‡å¿˜å½•3.md
â””â”€â”€ ...
```

### æŒ‰è´¦æˆ·åˆ†ç±» (--organize account)
```
exported_notes/
â”œâ”€â”€ README.md
â”œâ”€â”€ metadata.json
â”œâ”€â”€ iCloud/
â”‚   â”œâ”€â”€ å¤‡å¿˜å½•1.md
â”‚   â””â”€â”€ å¤‡å¿˜å½•2.md
â”œâ”€â”€ æœ¬åœ°/
â”‚   â””â”€â”€ å¤‡å¿˜å½•3.md
â””â”€â”€ ...
```

## ðŸ“„ æ–‡ä»¶æ ¼å¼

æ¯ä¸ªå¯¼å‡ºçš„ Markdown æ–‡ä»¶åŒ…å«ï¼š

1. **æ ‡é¢˜**: å¤‡å¿˜å½•çš„åŽŸå§‹æ ‡é¢˜
2. **å…ƒæ•°æ®éƒ¨åˆ†**: 
   - è´¦æˆ·ä¿¡æ¯
   - æ–‡ä»¶å¤¹ä¿¡æ¯
   - åˆ›å»ºå’Œä¿®æ”¹æ—¶é—´
   - å­—ç¬¦æ•°ç»Ÿè®¡
   - å¤‡å¿˜å½•ID
3. **å†…å®¹éƒ¨åˆ†**: è½¬æ¢ä¸º Markdown æ ¼å¼çš„æ­£æ–‡å†…å®¹

## ðŸ”§ é…ç½®æ–‡ä»¶

é¡¹ç›®åŒ…å«ä¸€ä¸ªé…ç½®æ–‡ä»¶ `notes_export_config.json`ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š

- é»˜è®¤è®¾ç½®
- é¢„è®¾é…ç½®
- ç­›é€‰è§„åˆ™
- è¾“å‡ºæ ¼å¼é€‰é¡¹

## ðŸ“Š ç»Ÿè®¡åŠŸèƒ½

è„šæœ¬ä¼šæ˜¾ç¤ºè¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯ï¼š
- æ€»å¤‡å¿˜å½•æ•°
- å¯†ç ä¿æŠ¤çš„å¤‡å¿˜å½•æ•°
- æ€»å­—ç¬¦æ•°å’Œå¹³å‡å­—ç¬¦æ•°
- æŒ‰è´¦æˆ·åˆ†å¸ƒçš„ç»Ÿè®¡

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚**: é¦–æ¬¡è¿è¡Œæ—¶ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè¦æ±‚æŽˆäºˆç»ˆç«¯è®¿é—®å¤‡å¿˜å½•çš„æƒé™
2. **å¯†ç ä¿æŠ¤**: å¯†ç ä¿æŠ¤çš„å¤‡å¿˜å½•é»˜è®¤ä¼šè¢«è·³è¿‡ï¼Œé™¤éžä½¿ç”¨ `--include-protected` å‚æ•°
3. **æ€§èƒ½**: å¤„ç†å¤§é‡å¤‡å¿˜å½•æ—¶å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œå»ºè®®å…ˆä½¿ç”¨ `--list-only` é¢„è§ˆ
4. **æ–‡ä»¶å**: ç‰¹æ®Šå­—ç¬¦ä¼šè¢«è‡ªåŠ¨æ¸…ç†ï¼Œè¿‡é•¿çš„æ ‡é¢˜ä¼šè¢«æˆªæ–­

## ðŸ› æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **è¿žæŽ¥å¤±è´¥**: ç¡®ä¿å¤‡å¿˜å½•åº”ç”¨æ­£åœ¨è¿è¡Œï¼Œå¹¶æŽˆäºˆäº†å¿…è¦æƒé™
2. **å¯¼å…¥é”™è¯¯**: æ£€æŸ¥æ˜¯å¦å®‰è£…äº†æ‰€æœ‰å¿…è¦çš„ä¾èµ–åº“
3. **æ–‡ä»¶åé—®é¢˜**: è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ç‰¹æ®Šå­—ç¬¦å’Œé‡åæ–‡ä»¶

### æ—¥å¿—æ–‡ä»¶

è„šæœ¬ä¼šç”Ÿæˆ `notes_export.log` æ—¥å¿—æ–‡ä»¶ï¼ŒåŒ…å«è¯¦ç»†çš„æ‰§è¡Œä¿¡æ¯å’Œé”™è¯¯è®°å½•ã€‚

## ðŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬çš„å¯¼å‡ºå’Œç­›é€‰åŠŸèƒ½
- åŒ…å«é¢„è®¾æ¨¡å¼å’Œä¾¿æ·è„šæœ¬

## ðŸ¤ è´¡çŒ®

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼

## ðŸ“„ è®¸å¯è¯

MIT License
