# è‡ªåŠ¨éƒ¨ç½²ç³»ç»Ÿä½¿ç”¨æŒ‡å—

æœ¬ç³»ç»Ÿæä¾›äº†ä¸¤ç§è‡ªåŠ¨éƒ¨ç½²æ–¹å¼ï¼Œè®©ä½ å¯ä»¥è½»æ¾åœ°å°†åšå®¢ä¿®æ”¹æäº¤å¹¶éƒ¨ç½²åˆ° Cloudflare Pagesã€‚

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ‰‹åŠ¨éƒ¨ç½²](#æ‰‹åŠ¨éƒ¨ç½²)
- [å®šæ—¶è‡ªåŠ¨éƒ¨ç½²](#å®šæ—¶è‡ªåŠ¨éƒ¨ç½²)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. **Git** - ç‰ˆæœ¬æ§åˆ¶å·¥å…·
2. **Wrangler CLI** - Cloudflare å‘½ä»¤è¡Œå·¥å…·
   ```bash
   npm install -g wrangler
   ```
3. **Cloudflare è´¦æˆ·** - å¹¶å®Œæˆç™»å½•
   ```bash
   wrangler login
   ```

---

## ğŸ“¦ æ‰‹åŠ¨éƒ¨ç½²

### ä½¿ç”¨ `auto-deploy.sh` è„šæœ¬

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š
1. âœ… æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹
2. âœ… æäº¤åˆ° Git
3. âœ… æ„å»ºåšå®¢
4. âœ… éƒ¨ç½²åˆ° Cloudflare Pages

### åŸºæœ¬ç”¨æ³•

```bash
# è¿è¡Œè„šæœ¬ï¼ˆä¼šæç¤ºè¾“å…¥æäº¤ä¿¡æ¯ï¼‰
./auto-deploy.sh

# æˆ–è€…ç›´æ¥æŒ‡å®šæäº¤ä¿¡æ¯
./auto-deploy.sh "æ·»åŠ æ–°æ–‡ç« "
```

### æ‰§è¡Œæµç¨‹

1. **æ£€æŸ¥ä¿®æ”¹**
   - è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹æ–‡ä»¶ä¿®æ”¹
   - å¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œä¼šæç¤ºå¹¶é€€å‡º

2. **æ˜¾ç¤ºä¿®æ”¹çŠ¶æ€**
   ```
   ğŸ“‹ å½“å‰ä¿®æ”¹çŠ¶æ€
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   
    M content/blog/new-article.md
   ?? content/blog/another-article.md
   ```

3. **è¾“å…¥æäº¤ä¿¡æ¯**
   - å¯ä»¥è‡ªå®šä¹‰æäº¤ä¿¡æ¯
   - ç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤ä¿¡æ¯ï¼š`Update: 2025-10-15 04:30:00`

4. **ç¡®è®¤æäº¤**
   - è„šæœ¬ä¼šè¯¢é—®æ˜¯å¦ç»§ç»­
   - è¾“å…¥ `Y` æˆ–ç›´æ¥å›è½¦ç»§ç»­
   - è¾“å…¥ `n` å–æ¶ˆæ“ä½œ

5. **è‡ªåŠ¨æ‰§è¡Œ**
   - Git æäº¤
   - æ„å»ºåšå®¢
   - éƒ¨ç½²åˆ° Cloudflare Pages

6. **å®Œæˆ**
   ```
   ğŸ‰ éƒ¨ç½²æˆåŠŸï¼
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   
   ğŸŒ è®¿é—®åœ°å€: https://your-blog.pages.dev
   ğŸ“Š Cloudflare Dashboard: https://dash.cloudflare.com
   ```

---

## â° å®šæ—¶è‡ªåŠ¨éƒ¨ç½²

### ä½¿ç”¨ `manage-auto-deploy.sh` è„šæœ¬

è¿™ä¸ªè„šæœ¬å¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨æ£€æŸ¥ä¿®æ”¹å¹¶éƒ¨ç½²ã€‚

### å®‰è£…å®šæ—¶ä»»åŠ¡

```bash
# å®‰è£…å®šæ—¶ä»»åŠ¡ï¼ˆé»˜è®¤æ¯å¤© 9:00 æ‰§è¡Œï¼‰
./manage-auto-deploy.sh install

# è‡ªå®šä¹‰æ‰§è¡Œæ—¶é—´ï¼ˆä¾‹å¦‚æ¯å¤© 14:30ï¼‰
./manage-auto-deploy.sh install 14 30
```

### ç®¡ç†å®šæ—¶ä»»åŠ¡

```bash
# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
./manage-auto-deploy.sh status

# æŸ¥çœ‹è¿è¡Œæ—¥å¿—
./manage-auto-deploy.sh logs

# æµ‹è¯•è¿è¡Œä¸€æ¬¡ï¼ˆä¸ç­‰å¾…å®šæ—¶ï¼‰
./manage-auto-deploy.sh test

# åœæ­¢ä»»åŠ¡
./manage-auto-deploy.sh stop

# å¯åŠ¨ä»»åŠ¡
./manage-auto-deploy.sh start

# å¸è½½ä»»åŠ¡
./manage-auto-deploy.sh uninstall
```

### å®šæ—¶ä»»åŠ¡å·¥ä½œåŸç†

1. **å®šæ—¶æ£€æŸ¥**
   - æ¯å¤©åœ¨æŒ‡å®šæ—¶é—´è‡ªåŠ¨è¿è¡Œ
   - æ£€æŸ¥æ˜¯å¦æœ‰æ–‡ä»¶ä¿®æ”¹

2. **è‡ªåŠ¨æäº¤**
   - å¦‚æœæœ‰ä¿®æ”¹ï¼Œè‡ªåŠ¨æäº¤åˆ° Git
   - æäº¤ä¿¡æ¯ï¼š`Auto deploy: 2025-10-15 09:00:00`

3. **è‡ªåŠ¨éƒ¨ç½²**
   - æ„å»ºåšå®¢
   - éƒ¨ç½²åˆ° Cloudflare Pages

4. **æ—¥å¿—è®°å½•**
   - è¿è¡Œæ—¥å¿—ï¼š`~/.blog-auto-deploy/auto-deploy.log`
   - é”™è¯¯æ—¥å¿—ï¼š`~/.blog-auto-deploy/error.log`

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€è¿‘çš„è¿è¡Œæ—¥å¿—
./manage-auto-deploy.sh logs

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f ~/.blog-auto-deploy/auto-deploy.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f ~/.blog-auto-deploy/error.log
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### é¡¹ç›®åç§°

è„šæœ¬ä¼šè‡ªåŠ¨ä» `config.toml` ä¸­è·å– Cloudflare Pages é¡¹ç›®åç§°ï¼š

```toml
base_url = "https://your-blog.pages.dev"
```

å¦‚æœæ— æ³•è‡ªåŠ¨è·å–ï¼Œä¼šæç¤ºä½ è¾“å…¥é¡¹ç›®åç§°ã€‚

### ç¯å¢ƒå˜é‡

å®šæ—¶ä»»åŠ¡ä¼šè‡ªåŠ¨è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `PATH`: `/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin`

å¦‚æœéœ€è¦è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç¼–è¾‘ plist æ–‡ä»¶ï¼š
```bash
~/Library/LaunchAgents/com.blog.auto-deploy.plist
```

---

## ğŸ“ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å†™å®Œæ–‡ç« ç«‹å³å‘å¸ƒ

```bash
# 1. åˆ›å»ºæ–‡ç« 
./create-article.sh

# 2. ç¼–è¾‘æ–‡ç« 
# ... ç¼–è¾‘ content/blog/your-article.md ...

# 3. éƒ¨ç½²
./auto-deploy.sh "å‘å¸ƒæ–°æ–‡ç« ï¼šæ–‡ç« æ ‡é¢˜"
```

### åœºæ™¯ 2: æ¯å¤©è‡ªåŠ¨å‘å¸ƒä¿®æ”¹

```bash
# 1. å®‰è£…å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©æ—©ä¸Š 9:00ï¼‰
./manage-auto-deploy.sh install 9 0

# 2. æ­£å¸¸ç¼–è¾‘æ–‡ç« 
# ... éšæ—¶ç¼–è¾‘æ–‡ç«  ...

# 3. è‡ªåŠ¨éƒ¨ç½²
# æ¯å¤© 9:00 è‡ªåŠ¨æ£€æŸ¥ä¿®æ”¹å¹¶éƒ¨ç½²
```

### åœºæ™¯ 3: æµ‹è¯•éƒ¨ç½²æµç¨‹

```bash
# æµ‹è¯•è¿è¡Œä¸€æ¬¡ï¼ˆä¸ç­‰å¾…å®šæ—¶ï¼‰
./manage-auto-deploy.sh test
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•ä¿®æ”¹å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ï¼Ÿ

```bash
# å…ˆå¸è½½æ—§ä»»åŠ¡
./manage-auto-deploy.sh uninstall

# é‡æ–°å®‰è£…å¹¶æŒ‡å®šæ–°æ—¶é—´
./manage-auto-deploy.sh install 14 30  # æ¯å¤© 14:30
```

### Q2: å®šæ—¶ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œæ€ä¹ˆåŠï¼Ÿ

1. æ£€æŸ¥ä»»åŠ¡çŠ¶æ€ï¼š
   ```bash
   ./manage-auto-deploy.sh status
   ```

2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š
   ```bash
   tail -f ~/.blog-auto-deploy/error.log
   ```

3. æµ‹è¯•è¿è¡Œï¼š
   ```bash
   ./manage-auto-deploy.sh test
   ```

### Q3: å¦‚ä½•æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿ

```bash
# æŸ¥çœ‹ launchctl ä»»åŠ¡åˆ—è¡¨
launchctl list | grep com.blog.auto-deploy

# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
./manage-auto-deploy.sh status
```

### Q4: å¦‚ä½•åœæ­¢å®šæ—¶ä»»åŠ¡ï¼Ÿ

```bash
# ä¸´æ—¶åœæ­¢ï¼ˆä¸åˆ é™¤ä»»åŠ¡ï¼‰
./manage-auto-deploy.sh stop

# å®Œå…¨å¸è½½
./manage-auto-deploy.sh uninstall
```

### Q5: å®šæ—¶ä»»åŠ¡ä¼šåœ¨æ²¡æœ‰ä¿®æ”¹æ—¶ä¹Ÿéƒ¨ç½²å—ï¼Ÿ

ä¸ä¼šã€‚è„šæœ¬ä¼šå…ˆæ£€æŸ¥æ˜¯å¦æœ‰æ–‡ä»¶ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ä¼šè‡ªåŠ¨è·³è¿‡éƒ¨ç½²ã€‚

### Q6: å¦‚ä½•æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡éƒ¨ç½²ï¼Ÿ

```bash
# æ–¹æ³• 1: ä½¿ç”¨ auto-deploy.sh
./auto-deploy.sh "æ‰‹åŠ¨éƒ¨ç½²"

# æ–¹æ³• 2: ä½¿ç”¨ manage-auto-deploy.sh test
./manage-auto-deploy.sh test
```

### Q7: æ—¥å¿—æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ

```bash
# è¿è¡Œæ—¥å¿—
~/.blog-auto-deploy/auto-deploy.log

# é”™è¯¯æ—¥å¿—
~/.blog-auto-deploy/error.log

# æŸ¥çœ‹æ—¥å¿—
./manage-auto-deploy.sh logs
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å®šæ—¶ä»»åŠ¡ + æ‰‹åŠ¨éƒ¨ç½²ç»“åˆä½¿ç”¨

- **å®šæ—¶ä»»åŠ¡**ï¼šç”¨äºæ¯å¤©è‡ªåŠ¨å‘å¸ƒç§¯ç´¯çš„ä¿®æ”¹
- **æ‰‹åŠ¨éƒ¨ç½²**ï¼šç”¨äºç´§æ€¥å‘å¸ƒæˆ–é‡è¦æ›´æ–°

### 2. åˆç†è®¾ç½®æ‰§è¡Œæ—¶é—´

- é€‰æ‹©ä½ ä¸å¸¸ä½¿ç”¨ç”µè„‘çš„æ—¶é—´ï¼ˆä¾‹å¦‚æ—©ä¸Š 9:00ï¼‰
- é¿å…åœ¨å·¥ä½œæ—¶é—´æ‰§è¡Œï¼Œä»¥å…å½±å“æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶

### 3. å®šæœŸæŸ¥çœ‹æ—¥å¿—

```bash
# æ¯å‘¨æŸ¥çœ‹ä¸€æ¬¡æ—¥å¿—
./manage-auto-deploy.sh logs
```

### 4. æµ‹è¯•åå†å¯ç”¨å®šæ—¶ä»»åŠ¡

```bash
# å…ˆæµ‹è¯•è¿è¡Œ
./manage-auto-deploy.sh test

# ç¡®è®¤æ— è¯¯åå†å®‰è£…å®šæ—¶ä»»åŠ¡
./manage-auto-deploy.sh install
```

---

## ğŸ”— ç›¸å…³è„šæœ¬

- `create-article.sh` - åˆ›å»ºæ–°æ–‡ç« 
- `deploy-to-cloudflare.sh` - å•ç‹¬çš„éƒ¨ç½²è„šæœ¬
- `guide-blog-usage.sh` - åšå®¢ä½¿ç”¨æŒ‡å—

---

## ğŸ“ è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹ auto-deploy.sh å¸®åŠ©
./auto-deploy.sh --help

# æŸ¥çœ‹ manage-auto-deploy.sh å¸®åŠ©
./manage-auto-deploy.sh help
```

---

## ğŸ‰ æ€»ç»“

- **æ‰‹åŠ¨éƒ¨ç½²**ï¼šä½¿ç”¨ `./auto-deploy.sh` å¿«é€Ÿéƒ¨ç½²
- **å®šæ—¶éƒ¨ç½²**ï¼šä½¿ç”¨ `./manage-auto-deploy.sh install` è®¾ç½®å®šæ—¶ä»»åŠ¡
- **æŸ¥çœ‹çŠ¶æ€**ï¼šä½¿ç”¨ `./manage-auto-deploy.sh status` æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
- **æŸ¥çœ‹æ—¥å¿—**ï¼šä½¿ç”¨ `./manage-auto-deploy.sh logs` æŸ¥çœ‹è¿è¡Œæ—¥å¿—

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

